{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?164c","webpack:///./src/firebaseDB.js","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","class","active_tab","on","$event","switch_tab","event","get_dataset_name","get_file_path","load_dataset_to_db","_e","_s","selector_val","_l","dataset_names","dataset","index","selector_show","get_starting_index","start_annotation","get_prev_example","get_next_example","staging","current_example_id","_m","current_example","token","style","highlight_with_color","mousedown_text","mouseup_text","mouseenter_text","label","reason","domProps","display_selected_text","add_alignment","submit_current","alignment","align_p","align_h","remove_alignment","get_concept_span","add_concept","submit_concepts","concept_container","remove_concept","download_annotation","staticRenderFns","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","db","firestore","e","components","props","frozen","frozen_time","seconds_remain","data_loaded","token_style","color_palette","loading_dataset_name","current_dataset_name","dataset_path","download_folder","start_annotate","starting_index","current_dp","examples","datalist","methods","tab","target","fileList","files","datalistset_path","get_folder_path","path","preventDefault","innerHTML","selected_concept","parseInt","includes","collection","query_datapoint","alert","where","build_container","example","init_color_for_token","tokens_color","tokens","fileread","onload","label_map","premise","hypothesis","onerror","readAsText","example_id","selection_p","start","end","alignment_p","text_p","selection_h","alignment_h","text_h","text","alignments","clear_selection","do_highlight_alignment_selection","rotate_color_id","concept","concept_input","concepts","align_idx","undo_highlight_alignment_selection","JSON","parse","removed","concept_idx","background_color_p","background_color_h","token_background_color_p","token_background_color_h","token_color_id_p","token_color_id_h","is_in_selection_highlight","should_highlight","state","_start","_end","current","selection","premise_tokens","surface","invalidate_selection","idx","component","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.7315fa17.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-content\"},[_c('h1',{staticClass:\"intro\"},[_vm._v(\"Semantic Alignment and Causal Intervention Annotator\")]),_c('nav',{staticStyle:{\"margin-bottom\":\"20px\"}},[_c('div',{staticClass:\"nav nav-tabs\",attrs:{\"id\":\"nav-tab\",\"role\":\"tablist\"}},[_c('a',{staticClass:\"nav-item nav-link\",class:{\n        'active': _vm.active_tab === 'upload'\n      },on:{\"click\":function($event){return _vm.switch_tab('upload')}}},[_vm._v(\"Upload\")]),_c('a',{staticClass:\"nav-item nav-link\",class:{\n       'active': _vm.active_tab === 'alignment'\n      },on:{\"click\":function($event){return _vm.switch_tab('alignment')}}},[_vm._v(\"Alignment\")]),_c('a',{staticClass:\"nav-item nav-link\",class:{\n        'active': _vm.active_tab === 'intervention'\n      },on:{\"click\":function($event){return _vm.switch_tab('intervention')}}},[_vm._v(\"Intervention\")]),_c('a',{staticClass:\"nav-item nav-link\",class:{\n       'active': _vm.active_tab === 'nli'\n      },on:{\"click\":function($event){return _vm.switch_tab('nli')}}},[_vm._v(\"NLI Annotation\")]),_c('a',{staticClass:\"nav-item nav-link\",class:{\n       'active': _vm.active_tab === 'math_concept'\n      },on:{\"click\":function($event){return _vm.switch_tab('math_concept')}}},[_vm._v(\"Math Concept\")])])]),(_vm.active_tab === 'upload')?_c('form',{staticClass:\"row g-3\"},[_c('div',{staticClass:\"col-auto\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter dataset name\"},on:{\"change\":function (event) { return _vm.get_dataset_name(event); }}})]),_c('div',{staticClass:\"col-auto\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"file\",\"id\":\"dataset_selector\",\"accept\":\".csv, .txt, .json, .jsonl, .tsv\"},on:{\"change\":function (event) { return _vm.get_file_path(event); }}})]),_c('div',{staticClass:\"col-auto\"},[_c('button',{staticClass:\"btn btn-primary mb-3\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.load_dataset_to_db}},[_vm._v(\"Load\")])])]):_vm._e(),(_vm.active_tab !== 'upload')?_c('form',{staticClass:\"row g-3\"},[_c('div',{staticClass:\"col-auto\"},[_c('div',{staticClass:\"dropdown\"},[_c('button',{staticClass:\"btn btn-secondary dropdown-toggle\",attrs:{\"type\":\"button\",\"id\":\"dropdownMenuButton1\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"false\"}},[_vm._v(\" \"+_vm._s(_vm.selector_val)+\" \")]),_c('ul',{staticClass:\"dropdown-menu\",attrs:{\"aria-labelledby\":\"dropdownMenuButton1\"}},_vm._l((_vm.dataset_names[_vm.active_tab === 'math_concept']),function(dataset,index){return _c('li',{key:index,on:{\"click\":function (event) { return _vm.selector_show(event); }}},[_c('a',{staticClass:\"dropdown-item\"},[_vm._v(_vm._s(dataset))])])}),0)])]),_c('div',{staticClass:\"col-auto\"},[_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter starting index\"},on:{\"change\":function (event) { return _vm.get_starting_index(event); }}})]),_c('div',{staticClass:\"col-auto\"},[_c('button',{staticClass:\"btn btn-primary mb-3\",attrs:{\"type\":\" button\"},on:{\"click\":function (event) { return _vm.start_annotation(event, _vm.active_tab); }}},[_vm._v(\"Start\")])])]):_vm._e(),(_vm.active_tab === 'alignment')?_c('div',{staticClass:\"card cell\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"conclusion\",attrs:{\"id\":\"buttonbar\"}},[_c('div',{staticClass:\"addNew\"},[_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.get_prev_example}},[_c('i',{staticClass:\"fas fa-arrow-left\"})]),_c('div',{staticClass:\"addNew\"}),_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.get_next_example}},[_c('i',{staticClass:\"fas fa-arrow-right\"})])])]),(_vm.staging.start_annotate)?_c('div',{staticClass:\"conclusion card\"},[_c('div',{staticClass:\"card-body passage-display-box\"},[_c('li',{staticClass:\"list-group-item\"},[_c('span',{staticStyle:{\"color\":\"DodgerBlue\"}},[_c('strong',[_vm._v(\"[\"+_vm._s(_vm.staging.current_example_id)+\"]\")])]),_c('p',{staticClass:\"card-text passage-text\"},[_vm._m(0),_vm._l((_vm.staging.current_example\n              .premise_tokens),function(token,index){return _c('span',{key:token.index,staticClass:\"noselect\",style:(_vm.highlight_with_color(index, true)),on:{\"mousedown\":function($event){return _vm.mousedown_text(index, true)},\"mouseup\":function($event){return _vm.mouseup_text(index, true)},\"mouseenter\":function($event){return _vm.mouseenter_text(index, true)}}},[_vm._v(_vm._s(token + \" \"))])})],2),_c('p',{staticClass:\"card-text\"},[_vm._m(1),_vm._l((_vm.staging.current_example\n              .hypothesis_tokens),function(token,index){return _c('span',{key:token.index,staticClass:\"noselect\",style:(_vm.highlight_with_color(index, false)),on:{\"mousedown\":function($event){return _vm.mousedown_text(index, false)},\"mouseup\":function($event){return _vm.mouseup_text(index, false)},\"mouseenter\":function($event){return _vm.mouseenter_text(index, false)}}},[_vm._v(_vm._s(token + \" \"))])})],2),_c('p',{staticClass:\"card-text\"},[_vm._m(2),_vm._v(\" \"+_vm._s(_vm.staging.current_example.label)+\" \")]),_c('p',{staticClass:\"card-text\"},[_vm._m(3),_vm._v(\" \"+_vm._s(_vm.staging.current_example.reason)+\" \")])]),_c('div',{staticClass:\"col-auto\",staticStyle:{\"margin-top\":\"20px\",\"width\":\"50%\"}},[_c('input',{staticClass:\"form-control span-input\",attrs:{\"type\":\"text\",\"placeholder\":\"premise span\"},domProps:{\"value\":_vm.display_selected_text(true)}})]),_c('div',{staticClass:\"col-auto\",staticStyle:{\"margin-top\":\"20px\",\"width\":\"50%\"}},[_c('input',{staticClass:\"form-control span-input\",attrs:{\"type\":\"text\",\"placeholder\":\"hypothesis span\"},domProps:{\"value\":_vm.display_selected_text(false)}})]),_c('div',{staticClass:\"btn-group\",staticStyle:{\"float\":\"left\"}},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"margin\":\"25px 0px 10px 0px\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.add_alignment}},[_vm._v(\" Add Alignment \")])]),_c('button',{staticClass:\"btn btn-secondary\",staticStyle:{\"margin\":\"25px 0px 10px 0px\",\"float\":\"right\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.submit_current}},[_vm._v(\" Submit Annotation \")])]),_c('ul',{staticClass:\"list-group\",staticStyle:{\"margin\":\"30px\"}},_vm._l((_vm.staging.current_example\n          .alignments),function(alignment,index){return _c('li',{key:index,staticClass:\"\\n                  list-group-item\\n                  d-flex\\n                  justify-content-between\\n                  align-items-center\\n                \"},[_c('span',{staticStyle:{\"color\":\"DodgerBlue\",\"font-size\":\"14px\"}},[_c('strong',[_vm._v(\" \"+_vm._s((\"[\" + (alignment.align_p.text) + \"]\"))+\" \"),_c('i',{staticClass:\"fas fa-arrow-right\"}),_vm._v(\" \"+_vm._s((\"[\" + (alignment.align_h.text) + \"]\"))+\" \")])]),_c('button',{staticClass:\"btn btn-outline-danger\",staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"button\",\"data-balloon-pos\":\"up\",\"aria-label\":\"Delete Alignment\"},on:{\"click\":function($event){return _vm.remove_alignment(index)}}},[_c('i',{staticClass:\"fas fa-times\"})])])}),0)]):_vm._e()])]):_vm._e(),(_vm.active_tab === 'intervention')?_c('div',{staticClass:\"card cell\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"conclusion\",attrs:{\"id\":\"buttonbar\"}},[_c('div',{staticClass:\"addNew\"},[_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.get_prev_example}},[_c('i',{staticClass:\"fas fa-arrow-left\"})]),_c('div',{staticClass:\"addNew\"}),_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.get_next_example}},[_c('i',{staticClass:\"fas fa-arrow-right\"})])])]),(_vm.staging.start_annotate)?_c('div',{staticClass:\"conclusion card\"},[_c('div',{staticClass:\"card-body passage-display-box\"},[_c('li',{staticClass:\"list-group-item\"},[_c('span',{staticStyle:{\"color\":\"DodgerBlue\"}},[_c('strong',[_vm._v(\"[\"+_vm._s(_vm.staging.current_example_id)+\"]\")])]),_c('p',{staticClass:\"card-text passage-text\"},[_vm._m(4),_vm._l((_vm.staging.current_example\n              .premise_tokens),function(token,index){return _c('span',{key:token.index,staticClass:\"noselect\",style:(_vm.highlight_with_color(index, true)),on:{\"mousedown\":function($event){return _vm.mousedown_text(index, true)},\"mouseup\":function($event){return _vm.mouseup_text(index, true)},\"mouseenter\":function($event){return _vm.mouseenter_text(index, true)}}},[_vm._v(_vm._s(token + \" \"))])})],2),_c('p',{staticClass:\"card-text\"},[_vm._m(5),_vm._l((_vm.staging.current_example\n              .hypothesis_tokens),function(token,index){return _c('span',{key:token.index,staticClass:\"noselect\",style:(_vm.highlight_with_color(index, false)),on:{\"mousedown\":function($event){return _vm.mousedown_text(index, false)},\"mouseup\":function($event){return _vm.mouseup_text(index, false)},\"mouseenter\":function($event){return _vm.mouseenter_text(index, false)}}},[_vm._v(_vm._s(token + \" \"))])})],2),_c('p',{staticClass:\"card-text\"},[_vm._m(6),_vm._v(\" \"+_vm._s(_vm.staging.current_example.label)+\" \")]),_c('p',{staticClass:\"card-text\"},[_vm._m(7),_vm._v(\" \"+_vm._s(_vm.staging.current_example.reason)+\" \")])]),_vm._m(8),_vm._m(9),_c('div',{staticClass:\"btn-group\",staticStyle:{\"float\":\"left\"}},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"margin\":\"25px 0px 10px 0px\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.add_alignment}},[_vm._v(\" Add Intervention \")])]),_c('button',{staticClass:\"btn btn-secondary\",staticStyle:{\"margin\":\"25px 0px 10px 0px\",\"float\":\"right\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.submit_current}},[_vm._v(\" Submit Example \")])]),_c('ul',{staticClass:\"list-group\",staticStyle:{\"margin\":\"30px\"}},_vm._l((_vm.staging.current_example\n          .alignments),function(alignment,index){return _c('li',{key:index,staticClass:\"\\n                  list-group-item\\n                  d-flex\\n                  justify-content-between\\n                  align-items-center\\n                \"},[_c('span',{staticStyle:{\"color\":\"DodgerBlue\",\"font-size\":\"14px\"}},[_c('strong',[_vm._v(\" \"+_vm._s((\"[\" + (alignment.align_p.text) + \"]\"))+\" \"),_c('i',{staticClass:\"fas fa-arrow-right\"}),_vm._v(\" \"+_vm._s((\"[\" + (alignment.align_h.text) + \"]\"))+\" \")])]),_c('button',{staticClass:\"btn btn-outline-danger\",staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"button\",\"data-balloon-pos\":\"up\",\"aria-label\":\"Delete Alignment\"},on:{\"click\":function($event){return _vm.remove_alignment(index)}}},[_c('i',{staticClass:\"fas fa-times\"})])])}),0)]):_vm._e()])]):_vm._e(),(_vm.active_tab === 'math_concept')?_c('form',{staticClass:\"card cell\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"conclusion\",attrs:{\"id\":\"buttonbar\"}},[_c('div',{staticClass:\"addNew\"},[_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.get_prev_example}},[_c('i',{staticClass:\"fas fa-arrow-left\"})]),_c('div',{staticClass:\"addNew\"}),_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.get_next_example}},[_c('i',{staticClass:\"fas fa-arrow-right\"})])])]),(_vm.staging.start_annotate)?_c('div',{staticClass:\"conclusion card\"},[_c('div',{staticClass:\"card-body passage-display-box\"},[_c('li',{staticClass:\"list-group-item\"},[_c('span',{staticStyle:{\"color\":\"DodgerBlue\"}},[_c('strong',[_vm._v(\"[\"+_vm._s(_vm.staging.current_example_id)+\"]\")])]),_c('p',{staticClass:\"card-text passage-text\"},[_vm._m(10),_vm._l((_vm.staging.current_example\n              .premise_tokens),function(token,index){return _c('span',{key:token.index,staticClass:\"noselect\",style:(_vm.highlight_with_color(index, true)),on:{\"mousedown\":function($event){return _vm.mousedown_text(index, true)},\"mouseup\":function($event){return _vm.mouseup_text(index, true)},\"mouseenter\":function($event){return _vm.mouseenter_text(index, true)}}},[_vm._v(_vm._s(token + \" \"))])})],2)]),_c('div',{staticClass:\"col-auto\",staticStyle:{\"margin-top\":\"20px\",\"width\":\"50%\"}},[_c('input',{staticClass:\"form-control span-input\",attrs:{\"type\":\"text\",\"placeholder\":\"selected math concepts\"},domProps:{\"value\":_vm.display_selected_text(true)},on:{\"change\":function (event) { return _vm.get_concept_span(event); }}})]),_c('div',{staticClass:\"btn-group\",staticStyle:{\"float\":\"left\"}},[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"margin\":\"25px 0px 10px 0px\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.add_concept}},[_vm._v(\" Add Concepts \")])]),_c('button',{staticClass:\"btn btn-secondary\",staticStyle:{\"margin\":\"25px 0px 10px 0px\",\"float\":\"right\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.submit_concepts}},[_vm._v(\" Submit Annotation \")])]),_c('ul',{staticClass:\"list-group\",staticStyle:{\"margin\":\"30px\"}},_vm._l((_vm.staging.current_example\n          .concepts),function(concept_container,index){return _c('li',{key:index,staticClass:\"\\n                  list-group-item\\n                  d-flex\\n                  justify-content-between\\n                  align-items-center\\n                \"},[_c('span',{staticStyle:{\"color\":\"DodgerBlue\",\"font-size\":\"14px\"}},[_c('strong',[_vm._v(\" \"+_vm._s((\"[\" + (concept_container.concept) + \"]\"))+\" \")])]),_c('button',{staticClass:\"btn btn-outline-danger\",staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"button\",\"data-balloon-pos\":\"up\",\"aria-label\":\"Delete Concept\"},on:{\"click\":function($event){return _vm.remove_concept(index)}}},[_c('i',{staticClass:\"fas fa-times\"})])])}),0)]):_vm._e()])]):_vm._e(),_c('form',{staticClass:\"row g-2\"},[_c('div',{staticClass:\"col-auto\"},[_c('button',{staticClass:\"btn btn-primary mb-3\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.download_annotation}},[_vm._v(\" Download \")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"color\":\"DodgerBlue\"}},[_c('strong',[_vm._v(\"[PREMISE]\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"color\":\"DodgerBlue\"}},[_c('strong',[_vm._v(\"[HYPOTHESIS]\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"color\":\"DodgerBlue\"}},[_c('strong',[_vm._v(\"[LABEL]\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"color\":\"DodgerBlue\"}},[_c('strong',[_vm._v(\"[REASON]\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"color\":\"DodgerBlue\"}},[_c('strong',[_vm._v(\"[PREMISE]\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"color\":\"DodgerBlue\"}},[_c('strong',[_vm._v(\"[HYPOTHESIS]\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"color\":\"DodgerBlue\"}},[_c('strong',[_vm._v(\"[LABEL]\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"color\":\"DodgerBlue\"}},[_c('strong',[_vm._v(\"[REASON]\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-auto\",staticStyle:{\"margin-top\":\"20px\",\"width\":\"50%\"}},[_c('input',{staticClass:\"form-control span-input\",attrs:{\"type\":\"text\",\"placeholder\":\"premise span\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-auto\",staticStyle:{\"margin-top\":\"20px\",\"width\":\"50%\"}},[_c('input',{staticClass:\"form-control span-input\",attrs:{\"type\":\"text\",\"placeholder\":\"hypothesis span\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"color\":\"DodgerBlue\"}},[_c('strong',[_vm._v(\"[Sentence]\")])])}]\n\nexport { render, staticRenderFns }","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA2YV_7vBX6Bl1zf1bV0pporDz_zo2ogQk\",\n  authDomain: \"concept-extraction-48c36.firebaseapp.com\",\n  databaseURL: \"https://concept-extraction-48c36-default-rtdb.firebaseio.com\",\n  projectId: \"concept-extraction-48c36\",\n  storageBucket: \"concept-extraction-48c36.appspot.com\",\n  messagingSenderId: \"106750213656\",\n  appId: \"1:106750213656:web:f1e40c07e001f78759cd6d\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const db = firebase.firestore();\n","<template>\n  <div class=\"main-content\">\n    <h1 class=\"intro\">Semantic Alignment and Causal Intervention Annotator</h1>\n\n    <nav style=\"margin-bottom: 20px\">\n      <div class=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link\" v-on:click=\"switch_tab('upload')\" v-bind:class=\"{\n          'active': active_tab === 'upload'\n        }\">Upload</a>\n\n        <a class=\"nav-item nav-link\" v-on:click=\"switch_tab('alignment')\" v-bind:class=\"{\n         'active': active_tab === 'alignment'\n        }\">Alignment</a>\n\n        <a class=\"nav-item nav-link\" v-on:click=\"switch_tab('intervention')\" v-bind:class=\"{\n          'active': active_tab === 'intervention'\n        }\">Intervention</a>\n\n        <a class=\"nav-item nav-link\" v-on:click=\"switch_tab('nli')\" v-bind:class=\"{\n         'active': active_tab === 'nli'\n        }\">NLI Annotation</a>\n        <a class=\"nav-item nav-link\" v-on:click=\"switch_tab('math_concept')\" v-bind:class=\"{\n         'active': active_tab === 'math_concept'\n        }\">Math Concept</a>\n      </div>\n    </nav>\n\n    <form class=\"row g-3\" v-if=\"active_tab === 'upload'\">\n      <div class=\"col-auto\">\n        <input type=\"text\" class=\"form-control\" v-on:change=\"(event) => get_dataset_name(event)\"\n          placeholder=\"Enter dataset name\" />\n      </div>\n      <div class=\"col-auto\">\n        <input type=\"file\" class=\"form-control\" id=\"dataset_selector\" accept=\".csv, .txt, .json, .jsonl, .tsv\"\n          v-on:change=\"(event) => get_file_path(event)\" />\n      </div>\n      <div class=\"col-auto\">\n        <button type=\"button\" class=\"btn btn-primary mb-3\" v-on:click=\"load_dataset_to_db\">Load</button>\n      </div>\n    </form>\n\n    <form class=\"row g-3\" v-if=\"active_tab !== 'upload'\">\n      <div class=\"col-auto\">\n        <div class=\"dropdown\">\n          <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\"\n            data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n            {{ selector_val }}\n          </button>\n          <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n            <li v-for=\"(dataset, index) in dataset_names[active_tab === 'math_concept']\" v-bind:key=\"index\"\n              v-on:click=\"(event) => selector_show(event)\">\n              <a class=\"dropdown-item\">{{ dataset }}</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <input type=\"text\" class=\"form-control\" v-on:change=\"(event) => get_starting_index(event)\"\n          placeholder=\"Enter starting index\" />\n      </div>\n      <div class=\"col-auto\">\n        <button type=\" button\" class=\"btn btn-primary mb-3\"\n          v-on:click=\"(event) => start_annotation(event, active_tab)\">Start</button>\n      </div>\n    </form>\n\n    <div class=\"card cell\" v-if=\"active_tab === 'alignment'\">\n      <div class=\"card-body\">\n        <div class=\"conclusion\" id=\"buttonbar\">\n          <div class=\"addNew\">\n            <button type=\"button\" class=\"btn btn-primary btn-sm\" v-on:click=\"get_prev_example\">\n              <i class=\"fas fa-arrow-left\"></i>\n            </button>\n            <div class=\"addNew\"></div>\n            <button type=\"button\" class=\"btn btn-primary btn-sm\" v-on:click=\"get_next_example\">\n              <i class=\"fas fa-arrow-right\"></i>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"conclusion card\" v-if=\"staging.start_annotate\">\n          <div class=\"card-body passage-display-box\">\n            <li class=\"list-group-item\">\n              <span style=\"color: DodgerBlue\"><strong>[{{ staging.current_example_id }}]</strong></span>\n              <p class=\"card-text passage-text\">\n                <span style=\"color: DodgerBlue\"><strong>[PREMISE]</strong></span>\n                <span class=\"noselect\" v-for=\"(token, index) in staging.current_example\n                .premise_tokens\" v-bind:key=\"token.index\" v-on:mousedown=\"mousedown_text(index, true)\"\n                  v-on:mouseup=\"mouseup_text(index, true)\" v-on:mouseenter=\"mouseenter_text(index, true)\"\n                  v-bind:style=\"highlight_with_color(index, true)\">{{ token + \" \" }}</span>\n              </p>\n              <p class=\"card-text\">\n                <span style=\"color: DodgerBlue\"><strong>[HYPOTHESIS]</strong></span>\n                <span class=\"noselect\" v-for=\"(token, index) in staging.current_example\n                .hypothesis_tokens\" v-bind:key=\"token.index\" v-on:mousedown=\"mousedown_text(index, false)\"\n                  v-on:mouseup=\"mouseup_text(index, false)\" v-on:mouseenter=\"mouseenter_text(index, false)\"\n                  v-bind:style=\"highlight_with_color(index, false)\">{{ token + \" \" }}</span>\n              </p>\n              <p class=\"card-text\">\n                <span style=\"color: DodgerBlue\"><strong>[LABEL]</strong></span>\n                {{ staging.current_example.label }}\n              </p>\n\n              <p class=\"card-text\">\n                <span style=\"color: DodgerBlue\"><strong>[REASON]</strong></span>\n                {{ staging.current_example.reason }}\n              </p>\n\n            </li>\n            <div class=\"col-auto\" style=\"margin-top:20px; width:50%\">\n              <input type=\"text\" v-bind:value=\"display_selected_text(true)\" class=\"form-control span-input\"\n                placeholder=\"premise span\" />\n            </div>\n            <div class=\"col-auto\" style=\"margin-top:20px; width:50%\">\n              <input type=\"text\" v-bind:value=\"display_selected_text(false)\" class=\"form-control span-input\"\n                placeholder=\"hypothesis span\" />\n            </div>\n            <div class=\"btn-group\" style=\"float: left\">\n              <button type=\"button\" v-on:click=\"add_alignment\" class=\"btn btn-primary\"\n                style=\"margin: 25px 0px 10px 0px\">\n                Add Alignment\n              </button>\n            </div>\n            <button type=\"button\" class=\"btn btn-secondary\" v-on:click=\"submit_current\"\n              style=\"margin: 25px 0px 10px 0px; float: right\">\n              Submit Annotation\n            </button>\n          </div>\n          <ul class=\"list-group\" style=\"margin: 30px\">\n            <li v-for=\"(alignment, index) in staging.current_example\n            .alignments\" v-bind:key=\"index\" class=\"\n                    list-group-item\n                    d-flex\n                    justify-content-between\n                    align-items-center\n                  \">\n              <span style=\"color: DodgerBlue; font-size: 14px\">\n                <strong>\n                  {{ `[${alignment.align_p.text}]` }}\n                  <i class=\"fas fa-arrow-right\"></i>\n                  {{ `[${alignment.align_h.text}]` }}\n                </strong>\n              </span>\n              <button class=\"btn btn-outline-danger\" type=\"button\" v-on:click=\"remove_alignment(index)\"\n                data-balloon-pos=\"up\" aria-label=\"Delete Alignment\" style=\"margin-right: 10px\">\n                <i class=\"fas fa-times\"></i>\n              </button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card cell\" v-if=\"active_tab === 'intervention'\">\n      <div class=\"card-body\">\n        <div class=\"conclusion\" id=\"buttonbar\">\n          <div class=\"addNew\">\n            <button type=\"button\" class=\"btn btn-primary btn-sm\" v-on:click=\"get_prev_example\">\n              <i class=\"fas fa-arrow-left\"></i>\n            </button>\n            <div class=\"addNew\"></div>\n            <button type=\"button\" class=\"btn btn-primary btn-sm\" v-on:click=\"get_next_example\">\n              <i class=\"fas fa-arrow-right\"></i>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"conclusion card\" v-if=\"staging.start_annotate\">\n          <div class=\"card-body passage-display-box\">\n            <li class=\"list-group-item\">\n              <span style=\"color: DodgerBlue\"><strong>[{{ staging.current_example_id }}]</strong></span>\n              <p class=\"card-text passage-text\">\n                <span style=\"color: DodgerBlue\"><strong>[PREMISE]</strong></span>\n                <span class=\"noselect\" v-for=\"(token, index) in staging.current_example\n                .premise_tokens\" v-bind:key=\"token.index\" v-on:mousedown=\"mousedown_text(index, true)\"\n                  v-on:mouseup=\"mouseup_text(index, true)\" v-on:mouseenter=\"mouseenter_text(index, true)\"\n                  v-bind:style=\"highlight_with_color(index, true)\">{{ token + \" \" }}</span>\n              </p>\n              <p class=\"card-text\">\n                <span style=\"color: DodgerBlue\"><strong>[HYPOTHESIS]</strong></span>\n                <span class=\"noselect\" v-for=\"(token, index) in staging.current_example\n                .hypothesis_tokens\" v-bind:key=\"token.index\" v-on:mousedown=\"mousedown_text(index, false)\"\n                  v-on:mouseup=\"mouseup_text(index, false)\" v-on:mouseenter=\"mouseenter_text(index, false)\"\n                  v-bind:style=\"highlight_with_color(index, false)\">{{ token + \" \" }}</span>\n              </p>\n              <p class=\"card-text\">\n                <span style=\"color: DodgerBlue\"><strong>[LABEL]</strong></span>\n                {{ staging.current_example.label }}\n              </p>\n\n              <p class=\"card-text\">\n                <span style=\"color: DodgerBlue\"><strong>[REASON]</strong></span>\n                {{ staging.current_example.reason }}\n              </p>\n\n            </li>\n            <div class=\"col-auto\" style=\"margin-top:20px; width:50%\">\n              <input type=\"text\" class=\"form-control span-input\"\n                placeholder=\"premise span\" />\n            </div>\n            <div class=\"col-auto\" style=\"margin-top:20px; width:50%\">\n              <input type=\"text\" class=\"form-control span-input\"\n                placeholder=\"hypothesis span\" />\n            </div>\n            <div class=\"btn-group\" style=\"float: left\">\n              <button type=\"button\" v-on:click=\"add_alignment\" class=\"btn btn-primary\"\n                style=\"margin: 25px 0px 10px 0px\">\n                Add Intervention\n              </button>\n            </div>\n            <button type=\"button\" class=\"btn btn-secondary\" v-on:click=\"submit_current\"\n              style=\"margin: 25px 0px 10px 0px; float: right\">\n              Submit Example\n            </button>\n          </div>\n          <ul class=\"list-group\" style=\"margin: 30px\">\n            <li v-for=\"(alignment, index) in staging.current_example\n            .alignments\" v-bind:key=\"index\" class=\"\n                    list-group-item\n                    d-flex\n                    justify-content-between\n                    align-items-center\n                  \">\n              <span style=\"color: DodgerBlue; font-size: 14px\">\n                <strong>\n                  {{ `[${alignment.align_p.text}]` }}\n                  <i class=\"fas fa-arrow-right\"></i>\n                  {{ `[${alignment.align_h.text}]` }}\n                </strong>\n              </span>\n              <button class=\"btn btn-outline-danger\" type=\"button\" v-on:click=\"remove_alignment(index)\"\n                data-balloon-pos=\"up\" aria-label=\"Delete Alignment\" style=\"margin-right: 10px\">\n                <i class=\"fas fa-times\"></i>\n              </button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <form class=\"card cell\" v-if=\"active_tab === 'math_concept'\">\n      <div class=\"card-body\">\n        <div class=\"conclusion\" id=\"buttonbar\">\n          <div class=\"addNew\">\n            <button type=\"button\" class=\"btn btn-primary btn-sm\" v-on:click=\"get_prev_example\">\n              <i class=\"fas fa-arrow-left\"></i>\n            </button>\n            <div class=\"addNew\"></div>\n            <button type=\"button\" class=\"btn btn-primary btn-sm\" v-on:click=\"get_next_example\">\n              <i class=\"fas fa-arrow-right\"></i>\n            </button>\n          </div>\n        </div> \n\n        <div class=\"conclusion card\" v-if=\"staging.start_annotate\">\n          <div class=\"card-body passage-display-box\">\n            <li class=\"list-group-item\">\n              <span style=\"color: DodgerBlue\"><strong>[{{ staging.current_example_id }}]</strong></span>\n              <p class=\"card-text passage-text\">\n                <span style=\"color: DodgerBlue\"><strong>[Sentence]</strong></span>\n                <span class=\"noselect\" v-for=\"(token, index) in staging.current_example\n                .premise_tokens\" v-bind:key=\"token.index\" v-on:mousedown=\"mousedown_text(index, true)\"\n                  v-on:mouseup=\"mouseup_text(index, true)\" v-on:mouseenter=\"mouseenter_text(index, true)\"\n                  v-bind:style=\"highlight_with_color(index, true)\">{{ token + \" \" }}</span>\n              </p>\n\n\n            </li>\n            <div class=\"col-auto\" style=\"margin-top:20px; width:50%\">\n              <input type=\"text\" v-bind:value=\"display_selected_text(true)\" class=\"form-control span-input\" v-on:change=\"(event) => get_concept_span(event)\"\n                placeholder=\"selected math concepts\" />\n            </div>\n          \n\n            <div class=\"btn-group\" style=\"float: left\">\n              <button type=\"button\" v-on:click=\"add_concept\" class=\"btn btn-primary\"\n                style=\"margin: 25px 0px 10px 0px\">\n                Add Concepts\n              </button>\n            </div>\n            <button type=\"button\" class=\"btn btn-secondary\" v-on:click=\"submit_concepts\"\n              style=\"margin: 25px 0px 10px 0px; float: right\">\n              Submit Annotation\n            </button>\n          </div>\n          <ul class=\"list-group\" style=\"margin: 30px\">\n            <li v-for=\"(concept_container, index) in staging.current_example\n            .concepts\" v-bind:key=\"index\" class=\"\n                    list-group-item\n                    d-flex\n                    justify-content-between\n                    align-items-center\n                  \">\n              <span style=\"color: DodgerBlue; font-size: 14px\">\n                <strong>\n                  {{ `[${concept_container.concept}]` }}\n                </strong>\n              </span>\n              <button class=\"btn btn-outline-danger\" type=\"button\" v-on:click=\"remove_concept(index)\"\n                data-balloon-pos=\"up\" aria-label=\"Delete Concept\" style=\"margin-right: 10px\">\n                <i class=\"fas fa-times\"></i>\n              </button>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </form>\n\n    <form class=\"row g-2\">\n      <!--<div class=\"col-auto\">\n        <input type=\"directory\" class=\"form-control\" id=\"folder_selector\" v-on:change=\"(event) => get_folder_path(event)\"\n          webkitdirectory />\n      </div>-->\n\n      <div class=\"col-auto\">\n        <button type=\"button\" class=\"btn btn-primary mb-3\" v-on:click=\"download_annotation\">\n          Download\n        </button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport { firestorePlugin } from 'vuefire'\nimport { db } from './firebaseDB'\n\nVue.use(firestorePlugin)\n\nconst fileread = new FileReader();\nconst label_map = {\n  e: \"Entailment\",\n  c: \"Contradiction\",\n  n: \"neutral\",\n};\n\nexport default {\n  name: \"AnnotationInterface\",\n\n  components: {},\n\n  props: ['id'],\n\n  data: function () {\n    return {\n      /**\n       *\n       * Tab switching.\n       *\n       */\n      active_tab: \"alignment\",\n      frozen: true,\n      frozen_time: 3,\n      seconds_remain: 180,\n\n      data_loaded: false,\n\n      dataset_names: {false: [\n        \"anli_r1_test\", \"anli_r1_train\", \"anli_r1_val\",\n        \"anli_r2_test\", \"anli_r2_train\", \"anli_r2_val\",\n        \"anli_r3_test\", \"anli_r3_train\", \"anli_r3_val\",\n        \"snli_train\", \"snli_val\", \"snli_test\", \"test_train\"\n      ],\n                      true: [\n                        \"new_100_Larry\", \"new_100_Valeria\", \"new_100_Pavel\", \"test_train\"\n                      ],\n      },\n\n      selector_val: \"Select Dataset\",\n\n      token_style: {background: 'inherit'},\n      color_palette: [\n        \"#ffd200\", \"#fa9900\", \"#d9d2e9\", \"#cebff0\", \n        \"#ff9b95\", \"#f5cfc1\", \"#e98e00\"\n      ],\n\n\n      staging: {\n        dataset: null,\n        loading_dataset_name: null,\n        current_dataset_name: null,\n        dataset_path: null,\n        download_folder: null,\n        start_annotate: false,\n        starting_index: 0,\n        current_example_id: 0,\n        current_example: null,\n        current_dp: null,\n        examples: {},\n        datalist: [],\n      },\n    };\n  },\n  \n  methods: {\n    switch_tab: function (tab) {\n      this.active_tab = tab;\n    },\n\n    get_dataset_name: function (event) {\n      this.staging.loading_dataset_name = event.target.value;\n    },\n    get_file_path: function (event) {\n      var fileList = event.target.files;\n      this.staging.datalistset_path = fileList[0];\n    },\n    get_folder_path: function (event) {\n      var fileList = event.target.files;\n      this.staging.download_folder = fileList[0].path;\n    },\n    selector_show: function (event) {\n      event.preventDefault();\n      this.selector_val = event.target.innerHTML;\n      this.staging.current_dataset_name = event.target.innerHTML;\n    },\n    get_concept_span: function (event) {\n      this.staging.current_example.selected_concept = event.target.value;\n    },\n    get_starting_index: function (event) {\n      this.staging.starting_index = parseInt(event.target.value);\n    },\n\n    start_annotation: function (event, tab) {\n      event.preventDefault();\n      if (this.dataset_names[tab === 'math_concept'].includes(this.staging.current_dataset_name)) {\n        this.dataset = db.collection(this.staging.current_dataset_name);\n        this.staging.current_example_id = this.staging.starting_index;\n        this.query_datapoint();\n      } else {\n        alert(\"ERROR: dataset does not exit, upload before annotation!\")\n      }\n    },\n\n    query_datapoint: function () {\n      this.dataset.where(\"index\", \"==\", this.staging.current_example_id)\n            .get()\n            .then((querySnapshot) => {\n                querySnapshot.forEach((doc) => {\n                    this.staging.current_dp = doc.data();\n                    this.build_container(this.staging.current_dp);\n                    if (\"is_annotated\" in doc.data()) {\n                      if (doc.data()['is_annotated']) {\n                        alert(\"This example is already annotated! You can still review and make updates.\")\n                      }\n                    }\n                });\n                if (!this.staging.start_annotate) {\n                  this.staging.start_annotate = true;\n                }\n            })\n            .catch((error) => {\n                console.log(\"Error getting documents: \", error);\n            });\n    },\n\n    build_container: function (example) {\n      this.staging.datalist.push(example);\n      let example_container = {\n          premise: example[\"premise\"],\n          hypothesis: example[\"hypothesis\"],\n          label: example[\"label\"],\n          reason: example[\"reason\"],\n          premise_tokens: example[\"premise\"].split(\" \"),\n          hypothesis_tokens: example[\"hypothesis\"].split(\" \"),\n          alignments: [],\n          concepts: [],\n\n          selected_concept: \"\",\n\n\n          selection_p: {\n            start: -1,\n            end: -1,\n            current: -1,\n            state: \"none\",\n          },\n\n          selection_h: {\n            start: -1,\n            end: -1,\n            current: -1,\n            state: \"none\",\n          },\n\n          token_color_id_p: 0,\n          token_color_id_h: 0,\n          \n          token_background_color_p: {},\n          token_background_color_h: {},\n\n          selected_token_indices_p: {},\n          selected_token_indices_h: {},\n        };\n\n        if (\"alignments\" in example) {\n          example_container[\"alignments\"] = example[\"alignments\"];\n        }\n\n        if(\"concepts\" in example) {\n          example_container[\"concepts\"] = example[\"concepts\"];\n        }\n\n        example_container.token_background_color_p = this.init_color_for_token(\n          example_container.premise_tokens\n        )\n\n        example_container.token_background_color_h = this.init_color_for_token(\n          example_container.hypothesis_tokens\n        )\n\n        this.staging.current_example = example_container;\n        this.staging.examples[this.staging.current_example_id] = example_container;\n        console.log(example_container)\n    },\n\n    init_color_for_token: function (tokens) {\n      var tokens_color = {};\n      for (var i = 0; i < tokens.length; i++) {\n        tokens_color[i] = \"inherit\";\n      }\n      return tokens_color;\n    },\n\n    load_dataset_to_db: function () {\n      fileread.onload = (res) => {\n        this.staging.datalistset = res.target.result.replace(/\\r\\n/g, \"\\n\").split(\"\\n\");\n        var index = 0;\n        this.staging.datalistset.forEach((element) => {\n          let example = JSON.parse(element);\n          let reason = \"\";\n          let label = \"\";\n          if (this.staging.loading_dataset_name.includes(\"anli\")) {\n            reason = example[\"reason\"]\n            label = label_map[example[\"label\"]]\n          } else {\n            if(\"explanation_1\" in example){\n              reason = example[\"explanation_1\"];\n            }\n            if(\"label\" in example ){\n            label = example[\"label\"]\n            }\n          }\n          db.collection(this.staging.loading_dataset_name).add({\n            index: index,\n            premise: example[\"premise\"],\n            hypothesis: example[\"hypothesis\"],\n            label: label,\n            reason: reason,\n          }).then((docRef) => {\n              console.log(\"Document written with ID: \", docRef.id);\n          })\n          .catch((error) => {\n              console.error(\"Error adding document: \", error);\n          });\n          index += 1;\n        });\n      };\n      fileread.onerror = (err) => console.log(err);\n      fileread.readAsText(this.staging.datalistset_path);\n    },\n\n    download_annotation: function () {\n      //window.ipcRenderer.send(\n      //  \"download_all\",\n      //  this.staging.download_folder\n      //);\n\n      if(typeof this.dataset === 'undefined'){\n        alert(\"Please select a dataset to start annotation first.\")\n        return;\n      }\n\n      let cases = [];\n      this.dataset.get()\n            .then((querySnapshot) => {\n                querySnapshot.forEach((doc) => {\n                    let row_data = doc.data();\n                    cases.push(row_data)\n                });\n\n                var json_cases = JSON.stringify(cases);\n                var blob = new Blob([json_cases], {type: \"application/json\"});\n                var url  = URL.createObjectURL(blob);\n                const link = document.createElement('a')\n                link.href =  url\n                link.download = \"testtest.json\"\n                link.click()\n                URL.revokeObjectURL(link.href)\n            })\n            .catch((error) => {\n                console.log(\"Error getting documents: \", error);\n            });\n\n\n\n\n    },\n\n    get_prev_example: function () {\n      if (this.staging.current_example_id > 0) {\n        this.staging.current_example_id -= 1;\n        let example_id = this.staging.current_example_id;\n        if (example_id in this.staging.examples) {\n          this.staging.current_example = this.staging.examples[example_id];\n          this.staging.current_dp = this.staging.datalist[example_id];\n        } else {\n          this.query_datapoint();\n        }\n      }\n    },\n\n    get_next_example: function () {\n      this.staging.current_example_id += 1;\n      let example_id = this.staging.current_example_id;\n      if (example_id in this.staging.examples) {\n        this.staging.current_example = this.staging.examples[example_id];\n        this.staging.current_dp = this.staging.datalist[example_id];\n      } else {\n        this.query_datapoint();\n      }\n    },\n\n    /*************************************************************************************\n     *\n     * Below methods are used to handling alignment collection.\n     *\n     ************************************************************************************/\n    add_alignment: function () {\n      let selection_h = this.staging.current_example.selection_h;\n      let text_h = this.staging.current_example.hypothesis_tokens;\n\n      let selection_p = this.staging.current_example.selection_p;\n      let text_p = this.staging.current_example.premise_tokens;\n\n      let alignment_p = \"\";\n      let alignment_h = \"\";\n\n      if (selection_p.start >= 0 && selection_p.end >= 0) {\n        alignment_p = text_p\n          .slice(selection_p.start, selection_p.end + 1)\n          .join(\" \");\n      }\n\n      if (selection_h.start >= 0 && selection_h.end >= 0) {\n        alignment_h = text_h\n          .slice(selection_h.start, selection_h.end + 1)\n          .join(\" \");\n      }\n\n      let alignment = {\n        align_p: {\n          start: selection_p.start,\n          end: selection_p.end,\n          text: alignment_p,\n        },\n        align_h: {\n          start: selection_h.start,\n          end: selection_h.end,\n          text: alignment_h,\n        },\n      };\n      this.staging.current_example.alignments.push(alignment);\n      this.clear_selection();\n      this.do_highlight_alignment_selection(alignment);\n      this.rotate_color_id();\n    },\n\n    add_concept: function () {\n      //--let concept = \"\";\n\n      let concept_input = this.staging.current_example.selected_concept\n\n      let selection_h = this.staging.current_example.selection_h;\n      let selection_p = this.staging.current_example.selection_p;\n\n      let concept_container = {\n        align_p: {\n          start: selection_p.start,\n          end: selection_p.end,\n        },\n        align_h: {\n          start: selection_h.start,\n          end: selection_h.end,\n        },\n        concept: concept_input,\n      };\n      this.staging.current_example.concepts.push(concept_container);\n      this.clear_selection();\n      this.do_highlight_alignment_selection(concept_container);\n      this.rotate_color_id();\n    },\n\n    remove_alignment: function (align_idx) {\n      let removed = JSON.stringify(this.staging.current_example.alignments[align_idx]);\n      this.staging.current_example.alignments.splice(align_idx, 1);\n      this.undo_highlight_alignment_selection(JSON.parse(removed));\n    },\n\n    remove_concept: function (concept_idx) {\n      let removed = JSON.stringify(this.staging.current_example.concepts[concept_idx]);\n      this.staging.current_example.concepts.splice(concept_idx, 1);\n      this.undo_highlight_alignment_selection(JSON.parse(removed));\n    },\n\n    submit_current: function () {\n      if (this.staging.current_example.alignments.length == 0) {\n        alert(\"No alignment pairs are annotated !\");\n      } else {\n        this.dataset.where(\"index\", \"==\", this.staging.current_example_id)\n            .limit(1).get()\n            .then((querySnapshot) => {\n                const doc = querySnapshot.docs[0];\n                doc.ref.update({\n                    \"is_annotated\": true,\n                    \"alignments\": this.staging.current_example.alignments,\n                }).then(() => {\n                    alert(\"Document successfully updated!\");\n                });\n            })\n            .catch((error) => {\n                alert(\"Error getting documents: \", error);\n            });\n      }\n    },\n\n    submit_concepts: function () {\n      if (this.staging.current_example.concepts.length == 0) {\n        alert(\"No concepts are annotated !\");\n      } else {\n        this.dataset.where(\"index\", \"==\", this.staging.current_example_id)\n            .limit(1).get()\n            .then((querySnapshot) => {\n                const doc = querySnapshot.docs[0];\n                doc.ref.update({\n                    \"is_annotated\": true,\n                    \"concepts\": this.staging.current_example.concepts,\n                }).then(() => {\n                    alert(\"Document successfully updated!\");\n                });\n            })\n            .catch((error) => {\n                alert(\"Error getting documents: \", error);\n            });\n      }\n    },\n\n    /*************************************************************************************\n     *\n     * Below methods are used to handling span selections.\n     *\n     ************************************************************************************/\n\n    do_highlight_alignment_selection: function (alignment) {\n      var background_color_p = this.color_palette[\n        this.staging.current_example.token_color_id_p\n      ];\n\n      var background_color_h = this.color_palette[\n        this.staging.current_example.token_color_id_h\n      ];\n\n      for (let i = alignment.align_p.start; i <= alignment.align_p.end; i++) {\n        this.staging.current_example.token_background_color_p[i] = background_color_p;\n      }\n      for (let i = alignment.align_h.start; i <= alignment.align_h.end; i++) {\n        this.staging.current_example.token_background_color_h[i] = background_color_h;\n      }\n    },\n\n    undo_highlight_alignment_selection: function (alignment) {\n      for (let i = alignment.align_p.start; i <= alignment.align_p.end; i++) {\n        this.staging.current_example.token_background_color_p[i] = \"inherit\";\n      }\n      for (let i = alignment.align_h.start; i <= alignment.align_h.end; i++) {\n        this.staging.current_example.token_background_color_h[i] = \"inherit\";\n      }\n    },\n\n    rotate_color_id: function () {\n      this.staging.current_example.token_color_id_p += 1;\n      if (this.staging.current_example.token_color_id_p > 6) {\n        this.staging.current_example.token_color_id_p = 0;\n      }\n\n      this.staging.current_example.token_color_id_h += 1;\n      if (this.staging.current_example.token_color_id_h > 6) {\n        this.staging.current_example.token_color_id_h = 0;\n      }\n    },\n\n    highlight_with_color: function (index, premise) {\n      if (this.is_in_selection_highlight(index, premise)) {\n        return {background: \"lightskyblue\"}\n      }\n\n      if (premise) {\n        return {background: this.staging.current_example.token_background_color_p[index]};\n      } else {\n        return {background: this.staging.current_example.token_background_color_h[index]};\n      }\n    },\n\n    should_highlight: function (index, premise) {\n      if (premise) {\n        return (\n          this.staging.current_example.selected_token_indices_p[index] === true\n        );\n      } else {\n        return (\n          this.staging.current_example.selected_token_indices_h[index] === true\n        );\n      }\n    },\n\n    mousedown_text: function (index, premise) {\n      if (premise) {\n        this.staging.current_example.selection_p.start = index;\n        this.staging.current_example.selection_p.state = \"selecting\";\n      } else {\n        this.staging.current_example.selection_h.start = index;\n        this.staging.current_example.selection_h.state = \"selecting\";\n      }\n    },\n\n    mouseup_text: function (index, premise) {\n      if (premise) {\n        this.staging.current_example.selection_p.end = index;\n        this.staging.current_example.selection_p.state = \"none\";\n        let _start = Math.min(\n          this.staging.current_example.selection_p.start,\n          this.staging.current_example.selection_p.end\n        );\n        let _end = Math.max(\n          this.staging.current_example.selection_p.start,\n          this.staging.current_example.selection_p.end\n        );\n        this.staging.current_example.selection_p.start = _start;\n        this.staging.current_example.selection_p.end = _end;\n      } else {\n        this.staging.current_example.selection_h.end = index;\n        this.staging.current_example.selection_h.state = \"none\";\n        let _start = Math.min(\n          this.staging.current_example.selection_h.start,\n          this.staging.current_example.selection_h.end\n        );\n        let _end = Math.max(\n          this.staging.current_example.selection_h.start,\n          this.staging.current_example.selection_h.end\n        );\n        this.staging.current_example.selection_h.start = _start;\n        this.staging.current_example.selection_h.end = _end;\n      }\n    },\n\n    mouseenter_text: function (index, premise) {\n      if (premise) {\n        this.staging.current_example.selection_p.current = index;\n      } else {\n        this.staging.current_example.selection_h.current = index;\n      }\n    },\n\n    display_selected_text: function (premise) {\n      let selection = this.staging.current_example.selection_h;\n      let text = this.staging.current_example.hypothesis_tokens;\n      if (premise) {\n        selection = this.staging.current_example.selection_p;\n        text = this.staging.current_example.premise_tokens;\n      }\n\n      if (selection.start >= 0 && selection.end >= 0) {\n        let surface = text.slice(selection.start, selection.end + 1).join(\" \");\n        this.staging.current_example.selected_concept = surface\n        return surface;\n      } else {\n        return \"\";\n      }\n    },\n\n    clear_selection: function () {\n      this.staging.current_example.selection_p.state = \"none\";\n      this.staging.current_example.selection_p.start = -1;\n      this.staging.current_example.selection_p.end = -1;\n      this.staging.current_example.selection_p.current = -1;\n      this.staging.current_example.selection_h.state = \"none\";\n      this.staging.current_example.selection_h.start = -1;\n      this.staging.current_example.selection_h.end = -1;\n      this.staging.current_example.selection_h.current = -1;\n\n    },\n\n    /**\n     * invalidate the current selection, this happens when mouse moved out of the selection scope.\n     */\n    invalidate_selection: function () {\n      if (this.staging.current_example.selection.state !== \"none\") {\n        this.clear_selection();\n      }\n    },\n\n    /**\n     * Should the current char be highlighted as part of the selection process?\n     */\n    is_in_selection_highlight: function (idx, premise) {\n      let selection = this.staging.current_example.selection_h;\n      if (premise) {\n        selection = this.staging.current_example.selection_p;\n      }\n      if (selection.state === \"selecting\") {\n        return (\n          idx >= Math.min(selection.current, selection.start) &&\n          idx <= Math.max(selection.current, selection.start)\n        );\n      }\n\n      if (selection.state === \"none\") {\n        return idx >= selection.start && idx <= selection.end;\n      }\n\n      return false;\n    },\n  },\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=94520340&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport App from \"./App.vue\";\n//import vuetify from './plugins/vuetify'\n\nVue.config.productionTip = false;\n\nnew Vue({\n  //vuetify,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n"],"sourceRoot":""}